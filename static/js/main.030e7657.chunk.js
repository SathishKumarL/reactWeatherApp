(this.webpackJsonpweather_app_trial=this.webpackJsonpweather_app_trial||[]).push([[0],{33:function(e,t,a){e.exports={textInput:"Forecast_textInput__DNtOW",Radio:"Forecast_Radio__HSEhU",Button:"Forecast_Button__2wNzW"}},41:function(e,t,a){e.exports=a.p+"static/media/weather-forecast-icon.367aff04.jpg"},51:function(e,t,a){e.exports=a(83)},56:function(e,t,a){},57:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),o=(a(56),a(57),a(10)),l=a(17),u=a(41),s=a.n(u);function m(e){var t=e.title,a=e.itemId,n=(e.selected,e.activeId),c=e.onClick,i=e.unit,o=r.a.useContext(l.VisibilityContext);return r.a.createElement("div",{onClick:function(){return c(o)},className:"cardBox ".concat(n===t&&"is-active"),tabIndex:0},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"cardTitle"},t),r.a.createElement("img",{src:s.a,className:"cardIcon"}),r.a.createElement("div",{className:"temp"},a," \xb0","imperial"===i?"F":"C")))}var d=a(104),f=a(18),p=a(6),b=function(e){var t=e.chartData;return console.log("barchart data"),console.log(t),n.createElement(d.a,null,n.createElement(f.c,{data:t},n.createElement(f.a,null),n.createElement(f.e,{max:6}),n.createElement(f.b,{valueField:"temp",argumentField:"time"}),n.createElement(f.d,{text:"Days Weather Chart"}),n.createElement(p.a,null)))},h=a(33),v=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),s=u[0],d=u[1],f=r.a.useState([]),p=Object(o.a)(f,2),v=p[0],E=p[1],g=Object(n.useState)("imperial"),O=Object(o.a)(g,2),j=O[0],x=O[1],C=Object(n.useState)(!1),y=Object(o.a)(C,2),S=y[0],_=y[1],I=Object(n.useState)(""),N=Object(o.a)(I,2),k=N[0],w=N[1],A=Object(n.useState)(""),F=Object(o.a)(A,2),R=F[0],B=F[1],D=Object(n.useState)([]),V=Object(o.a)(D,2),W=V[0],P=V[1],L=Object(n.useState)([]),J=Object(o.a)(L,2),z=J[0],H=J[1],M=Object(n.useState)(null),T=Object(o.a)(M,2),U=T[0],q=T[1],G=Object(n.useState)([]),K=Object(o.a)(G,2),Q=K[0],X=K[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){w(e.coords.latitude),B(e.coords.longitude)})),Y()}),[j,R]);var Y=function(){""!==k&&(_(!0),fetch("http://api.openweathermap.org/data/2.5/forecast?lat=".concat(k,"&lon=").concat(R,"&appid=5eab201bc687d1a5b22c3ea45bcaa329&units=").concat(j),{}).then((function(e){return e.json()})).then((function(e){if("200"!==e.cod)throw new Error;var t="".concat(e.city.name,", ").concat(e.city.country);c(t),function(e){_(!1);var t=[];e.list.forEach((function(e){e.dateArray=e.dt_txt.split(" "),t.indexOf(e.dateArray[0])<0&&t.push(e.dateArray[0])})),X(t);for(var a=[],n=0;n<t.length;n++)for(var r in a[n]=[],e.list)t[n]===e.list[r].dateArray[0]&&a[n].push(e.list[r]);for(var c=0;c<a.length;c++)a[c][0].average=(a[c].reduce((function(e,t){return e+t.main.temp}),0)/a[c].length).toFixed(2);d((function(){return t.map((function(e,t){return{id:"".concat(e),average:a[t][0].average}}))})),P((function(){return[].concat(a)}))}(e)})).catch((function(e){_(!1)})))};function Z(e){var t=e.children,a=e.disabled,n=e.onClick;return r.a.createElement("button",{disabled:a,onClick:n},t)}var $=function(e){return!!v.find((function(t){return t===e}))},ee=function(e){return function(t){t.getItemById;var a,n=$(e);q(e),E((function(t){return n?t.filter((function(t){return t!==e})):t.concat(e)})),a=Q.indexOf(e),H((function(){return W[a].map((function(e){return{time:e.dateArray[1],temp:e.main.temp}}))}))}};return Object(n.useEffect)((function(){if(null!==U){var e=Q.indexOf(U);H((function(){return W[e].map((function(e){return{time:e.dateArray[1],temp:e.main.temp}}))}))}}),[W]),Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){w(e.coords.latitude),B(e.coords.longitude)})),Y()}),[j,R]),r.a.createElement("div",null,S&&r.a.createElement("div",{className:"loading"},"loading...."),!S&&r.a.createElement("div",null,r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"React Weather App")),r.a.createElement("h2",null,"Weather Conditions of ",a),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),_(!0),Y()}},r.a.createElement("label",{className:h.Radio},r.a.createElement("input",{type:"radio",name:"units",checked:"imperial"===j,value:"imperial",onChange:function(e){return x(e.target.value)}}),"Fahrenheit"),r.a.createElement("label",{className:h.Radio},r.a.createElement("input",{type:"radio",name:"units",checked:"metric"===j,value:"metric",onChange:function(e){return x(e.target.value)}}),"Celcius")),r.a.createElement(l.ScrollMenu,{LeftArrow:function(){var e=r.a.useContext(l.VisibilityContext),t=e.isFirstItemVisible,a=e.scrollPrev;return r.a.createElement(Z,{disabled:t,onClick:function(){return a()}},"Left")},RightArrow:function(){var e=r.a.useContext(l.VisibilityContext),t=e.isLastItemVisible,a=e.scrollNext;return r.a.createElement(Z,{disabled:t,onClick:function(){return a()}},"Right")}},s.map((function(e){var t=e.id,a=e.average;return r.a.createElement(m,{title:t,itemId:a,key:t,activeId:U,onClick:ee(t),selected:$(t),unit:j})}))),z.length>0&&r.a.createElement(b,{chartData:z}),r.a.createElement("footer",null,"Page created by Sathish")))};var E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement(v,null)))};a(82);i.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.030e7657.chunk.js.map